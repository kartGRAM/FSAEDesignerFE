import React from 'react';
import Tooltip from '@mui/material/Tooltip';
import IconButton from '@mui/material/IconButton';
import SvgIcon from '@mui/material/SvgIcon';
import {setViewDirection} from '@store/reducers/uiTempGeometryDesigner';
import {Spherical} from 'three';
import {useDispatch} from 'react-redux';
import store from '@store/store';
import {getCameraQuaternion} from '@utils/three';

export default function Bottom(props: {onClick?: () => void}) {
  const {onClick} = props;
  const dispatch = useDispatch();

  const {uitgd} = store.getState();
  const zIndex = uitgd.fullScreenZIndex + uitgd.tooltipZIndex;
  return (
    <Tooltip
      title="Bottom View"
      componentsProps={{
        popper: {
          sx: {
            zIndex,
            '&:hover': {
              display: 'none'
            }
          }
        }
      }}
    >
      <IconButton
        sx={{padding: 0.5}}
        onClick={() => {
          dispatch(
            setViewDirection(
              getCameraQuaternion(new Spherical(1, Math.PI, 0))
              // new Quaternion(Math.sqrt(2) / 2, 0, 0, Math.sqrt(2) / 2)
            )
          );
          if (onClick) onClick();
        }}
      >
        <SvgIcon sx={{color: '#cccccc'}}>
          <svg
            version="1.1"
            x="0px"
            y="0px"
            viewBox="0 0 1000 1000"
            enableBackground="new 0 0 1000 1000"
            xmlSpace="preserve"
          >
            <metadata>
              Svg Vector Icons : http://www.onlinewebfonts.com/icon
            </metadata>
            <g>
              <g transform="translate(-511.000000,511.000000) scale(0.200000,-0.200000)">
                <path d="M3552.1,1559.2l-789-787l4.1-1443.9l6.1-1443.9l1443.9-6.1l1443.8-4.1l787,789l789,787l-4.1,1443.9l-6.1,1443.9l-1443.9,6.1l-1443.8,4.1L3552.1,1559.2z M6972.6,2189.6c0-8.1-309.1-323.3-687.4-701.6l-687.4-685.3H4312.7c-707.7,0-1285.3,6.1-1285.3,14.2c0,10.2,309.1,325.4,685.3,701.6l687.4,687.4h1285.2C6393,2205.9,6972.6,2199.8,6972.6,2189.6z M7094.6,798.6V-488.7L6409.3-1174c-378.3-378.2-693.5-687.4-701.6-687.4c-10.2,0-16.3,577.6-16.3,1285.3V709.1l685.3,687.4c378.2,378.2,693.5,687.4,701.6,687.4C7088.5,2083.9,7094.6,1504.3,7094.6,798.6z M5549.1-661.5v-1321.9H4251.6c-982.3,0-1303.6,6.1-1321.9,24.4c-18.3,18.3-24.4,339.6-24.4,1321.9V660.3h1321.9h1321.8V-661.5z" />
                <path d="M5868.3-450c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,63.1-56.9c56.9,0,61,4.1,54.9,67.1c-4.1,46.8-16.3,67.1-46.8,71.2C5900.9-437.8,5876.5-441.9,5868.3-450z" />
                <path d="M6153.1-450c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,63-56.9c57,0,61,4.1,54.9,67.1c-4.1,46.8-16.3,67.1-46.8,71.2C6185.6-437.8,6161.2-441.9,6153.1-450z" />
                <path d="M6437.8-450c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,63-56.9c57,0,61,4.1,54.9,67.1c-4.1,46.8-16.3,67.1-46.8,71.2C6470.3-437.8,6445.9-441.9,6437.8-450z" />
                <path d="M6722.5-450c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,63-56.9c57,0,61,4.1,54.9,67.1c-4.1,46.8-16.3,67.1-46.8,71.2C6755-437.8,6730.6-441.9,6722.5-450z" />
                <path d="M4322.8,566.8c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,61-56.9c69.1,0,99.6,46.8,67.1,99.6C4414.3,570.9,4347.2,589.2,4322.8,566.8z" />
                <path d="M4322.8,282.1c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,61-56.9c69.1,0,99.6,46.8,67.1,99.6C4414.3,286.2,4347.2,304.5,4322.8,282.1z" />
                <path d="M4322.8-2.6c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,61-56.9c69.1,0,99.6,46.8,67.1,99.6C4414.3,1.4,4347.2,19.7,4322.8-2.6z" />
                <path d="M4322.8-287.3c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,61-56.9c69.1,0,99.6,46.8,67.1,99.6C4414.3-283.3,4347.2-265,4322.8-287.3z" />
                <path d="M4444.8-450c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,63-56.9c56.9,0,61,4.1,54.9,67.1c-4.1,46.8-16.3,67.1-46.8,71.2C4477.4-437.8,4453-441.9,4444.8-450z" />
                <path d="M4729.6-450c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,63-56.9c56.9,0,61,4.1,54.9,67.1c-4.1,46.8-16.3,67.1-46.8,71.2C4762.1-437.8,4737.7-441.9,4729.6-450z" />
                <path d="M5014.3-450c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,63-56.9c56.9,0,61,4.1,54.9,67.1c-4.1,46.8-16.3,67.1-46.8,71.2C5046.8-437.8,5022.4-441.9,5014.3-450z" />
                <path d="M5298.9-450c-8.1-8.1-14.2-40.7-14.2-73.2c0-50.8,8.1-56.9,63.1-56.9c56.9,0,61,4.1,54.9,67.1c-4.1,46.8-16.3,67.1-46.8,71.2C5331.5-437.8,5307.1-441.9,5298.9-450z" />
                <path d="M4237.4-559.8c-71.2-77.3,22.4-160.6,97.6-85.4c40.7,42.7,40.7,44.7,4.1,85.4C4294.3-509,4284.2-509,4237.4-559.8z" />
                <path d="M4034-763.2c-36.6-40.7-36.6-42.7,6.1-87.4l44.7-42.7l44.7,42.7c42.7,44.7,42.7,46.8,6.1,87.4c-20.3,22.4-42.7,40.7-50.8,40.7C4076.7-722.5,4054.4-740.8,4034-763.2z" />
                <path d="M3830.7-966.6c-36.6-40.7-36.6-42.7,6.1-87.4l44.7-42.7l42.7,42.7c34.6,34.6,38.6,48.8,20.3,85.4C3914.1-915.7,3877.5-913.7,3830.7-966.6z" />
                <path d="M3627.3-1169.9c-36.6-40.7-36.6-42.7,6.1-87.4l44.7-42.7l44.7,44.7c36.6,36.6,40.7,52.9,24.4,81.3C3714.8-1123.2,3670-1121.1,3627.3-1169.9z" />
                <path d="M3424-1373.3c-36.6-40.7-36.6-42.7,6.1-87.4l44.7-42.7l44.7,44.7c36.6,36.6,40.7,52.9,24.4,81.3C3511.4-1326.5,3466.7-1324.5,3424-1373.3z" />
                <path d="M3222.6-1574.6c-34.6-38.7-34.6-40.7,8.1-83.4l44.7-44.7l42.7,42.7c34.6,34.6,38.6,50.8,22.4,79.3C3308-1531.9,3265.3-1527.8,3222.6-1574.6z" />
                <path d="M3031.5-1765.8l-44.7-46.8l46.8-44.7c46.8-44.7,48.8-44.7,81.3-8.1c44.7,48.8,42.7,71.2-2,111.9C3078.2-1721,3072.1-1723.1,3031.5-1765.8z" />
                <g transform="translate(0.000000,-2815.000000)">
                  <path d="M3877.5,1526.7c-333.5-327.4-606-606-606-618.2c0-18.3,288.8-24.4,1122.6-24.4h1122.5l622.3,620.3l620.3,620.3l-1138.8-2H4481.4L3877.5,1526.7z" />
                </g>
              </g>
            </g>
          </svg>
        </SvgIcon>
      </IconButton>
    </Tooltip>
  );
}
